/*
 * mem_prgm.c
 *
 *  Created on: 23/06/2020
 *      Author: pirx
 */

/*******************************************************************************
 * Includes
 ******************************************************************************/

#include "mem_prgm.h"
#include <assert.h>

/*******************************************************************************
 * Macros
 ******************************************************************************/

/*******************************************************************************
 * Types
 ******************************************************************************/

/*******************************************************************************
 * Internal function declaration
 ******************************************************************************/

/*******************************************************************************
 * Variables
 ******************************************************************************/

size_t memmainsize;
size_t *memsubsizes;

PCODE ***memprgm = NULL;

/*******************************************************************************
 * Public function
 ******************************************************************************/

void MEMPRGM_Init(PCODE ***prgm, size_t mainsize, size_t *subsizes) {
  memprgm = prgm;
  memmainsize = mainsize;
  memsubsizes = subsizes;
}

PCODE *MEMPRGM_Get(size_t mainindex, size_t i) {
  assert(mainindex < memmainsize);
  if (i >= memsubsizes[mainindex])
    return NULL; // EOP
  return memprgm[mainindex][i];
}

/*******************************************************************************
 * Internal function
 ******************************************************************************/
